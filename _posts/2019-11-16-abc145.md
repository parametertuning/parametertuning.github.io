---
title: ABC145
author: cdddar
---

[atcoder.jp/contests/abc145](https://atcoder.jp/contests/abc145)

## A - Circle

面積は辺の自乗に比例。
$r^2$ が答え。

## B - Echo

文字列のちょうど前半と後半を切り出して等号比較。

## C - Average Length

$n$ が小さいので実際に $n!$ 通り全部試してもいける。
試さなくても、全ての点対は同じくらい使われることが想像できる。
点 $x_1$ と $x_2$ とを直接結ぶルートが $n!$ 個中 $S(n)$ 回あるとすると、
他の点対も $S(n)$ 回使われるだろう。
もっと言うと各点対は $S(n) / n!$ の確率で使われる。
なので

$$D = \sum_{i<j} \|x_i - x_j\|_2$$

を計算したら、これを $S(n) / n!$ 倍すれば答えになる。

次は $S(n)$ を計算する。
長さ $n$ の列の内、隣り合った2つの選び方は $(n-1)$ 通り、
その２つの並べ方は $2$ 通り、
残りの $n-2$ つの並べ方は $(n-2)!$ 通り。
全部掛け合わせて

$$S(n) = 2(n-1)(n-2)! = 2(n-1)!$$

なので $S(n)/n! = 2/n$。

求めるべき答えは
$$\frac{2}{n} \sum_{i<j} \|x_i - x_j\|_2$$

## D - Knight

$x+y$ という量は一回の移動で必ず 3 だけ増える。
だから $(0, 0)$ から $(x,y)$ に移動するには $(x+y)/3$ 回の移動が必要。
逆に $(x+y)/3$ が自然数でない場合は移動不可能であることもわかる。

将棋なりチェスをやってれば移動の方法はそんなに自由ではないことが分かる。
つまり、移動の仕方には次の二通り

1. $(+2, +1)$
2. $(+1, +2)$

がある。１つ目を $n_1$ 回、２つ目を $n_2$ 回使ったとすると $(0,0)$ から
$(2n_1+n_2, n_1+2n_2)$
に移動する。
移動先 $(X,Y)$ が先に与えられてこの $n_1,n_2$ を求めたいとする。
これは2変数の2連立方程式だから基本的には一意に定まる。

- $2 n_1 + n_2 = X$
- $n_1 + 2 n_2 = Y$

これを解いて $n_1, n_2$ が自然数であることもチェックする。
そうでもないときは行動不可能。

で、ちゃんと自然数だったら、全部で $n_1 + n_2$ 回移動する内、$n_1$ 回は行動 1 をして $n_2$ 回は行動 2 をする方法の通りを求めろ、という問題。
良い忘れてたけど行動の順番は可換なのは明らか。

結局答えは

$$\left( \begin{array}{c}n_1 + n_2 \\ n_1 \end{array} \right)$$

## E - All-you-can-eat

DP を頑張る

## F - Laminate

DP を頑張る
