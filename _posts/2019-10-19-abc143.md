---
title: ABC143
author: cdddar
---

[atcoder.jp/contests/abc143](https://atcoder.jp/contests/abc143)

[公式解説 - YouTube](https://www.youtube.com/watch?v=3U_N7zelnMM)

## A - Curtain
$$\max(0, A-2B)$$

## B - TAKOYAKI FESTIVAL 2019
$O(N^2)$ でok

## C - Slimes
ランレングス圧縮を素直に実装

## D - Triangles
三辺 a,b,c を選びたい。
全選び方を試すと $O(N^3)$ でダメ。
しかし $N < 2000$ 程度なので $O(N^2)$ なら通るというメタ推理ができる。
そこで a,b,c の内 a,b だけ全選び方を試して c だけ工夫することを考える。

問題文にある三角形の公理から a,b が与えられたときに c が満たすべき性質は
$$|a-b| < c < a+b$$
とくに下限はこのように絶対値で簡潔に表される。
したがって与えられる辺のリストから上の範囲にあるものを線形より速く見つけて個数を得られればよい。
これは辺のリストを最初にソートしておいて二分探索すればいいことがわかる。

ただし２つ気にすることがあって、一つは見つけた範囲の中に a,b 自身が含まれてる場合に除かなければいけない（辺は複数回選べないので）のと、
違う a,b を見てるときに前選んだ組み合わせを除外しないといけない（カウントの重複）こと。
面倒だ。
次のようにするとこの問題は解決できる。

最初に辺を昇順にソートしておいて、$a \leq c \leq b$ となるように選ぶ。
特にそれぞれがリスト中で $i_a, i_c, i_b$ 番目から選ぶ時
$$i_a < i_c < i_b$$
になるような場所から選ぶことにすれば、カウントの重複は防げる。
さらに、$c$ を探す範囲は $[i_a + 1, i_b - 1]$ の区間で選ぶので、この中に a,b 自身はもちろん含まれないので気にしなくていい。

まだ良いことがあって、さっき c は $|a-b| < c < a+b$ を満たすべきと言ったが、いま $c \leq b$ であると言ったのと、
$a > 0$ であることを合わせると $c < a+b$ は常に満たされているので気にしなくていいことがわかる。

まとめると、

1. 辺リストをソート
1. a,b を $a \leq b$ であるように全通り選ぶ。それぞれについて、
1. c を a,b の間の区間から候補を探す。候補となる条件は $\|a-b\| < c$

区間から $\|a-b\| <$ なるギリギリの場所を二分探索で探せばok

## E - Travel by Car

YouTube の解説見て分かった。
気づくべき事実は「補給無しでギリギリ行けるところまで行って補給すべき」ということだけで、補給無しでどこまで行けるか、のグラフが構築できればいい。
頂点数が少ない時点で全頂点対最短距離を考えるべきかもしれない。

## F - Distinct Numbers

YouTube の解説見て分かった。
自力で思い付けないわ
