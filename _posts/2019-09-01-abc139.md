---
title: ABC139
author: cdddar
---

[atcoder.jp/contests/abc139](https://atcoder.jp/contests/abc139)

## A - Tenki

文字列操作

## B - Power Socket 

$N$ 個電源タップを使えば口数は
$1 + N (A - 1)$
になる。
登場する数が全て大きくないので、これが $B$ を超えるまで $N$ を一つずつ増やしてく。

## C - Lower

普通に左から見ていって、自分を最後にする連続非増加列の最長の長さを記録していく。
これを $K_i$ とすれば、

- $K_0 = 1$
- $K_i = 1 + K_{i-1}$ if $H_i \leq H_{i-1}$
- $K_i = 1$ otherwise

答えはこの $K_i$ の中の最大値を $-1$ したもの。

## D - ModSum

$N=1,2,\ldots,10$ で実験すると答えが
$1+2+\cdots+(N-1) = N(N-1)/2$
であることだけ分かったのでこれを提出したら通った。

問題では $i \bmod P_i$ だけど、あっちを並び替えにすれば $M_i = P_i \bmod i$ としても問題ない。

で、 $M_1 = N \equiv 0, M_2=1, M_3=2, \ldots, M_N = (N-1)$ のときが最大になっている。
原理的に $M_i$ の最大値は $i-1$ なので、和の最大も原理的にこれ。だからオッケー。

## E - League

いやあ、分からないや。

## F - Engines

ゴリ押しで通しました。

原点から離れられればいい。
最終的なゴールの角度だけを決めれば、その方向に行けるものだけを選んでいけばいい。
つまり、ゴール方向を決める二次元のベクトル $p$ $(\|p\| = 1)$ があれば、それとの内積が正のものを全て選べば良い。

角度だが、当然それは実数値を取るので全探索なんて出来ないけど、細かく刻んで離散値にしてから全探索しました（ここがゴリ押しポイント）。
原点を中心にして半径 1000 くらいの正方形を描く。この辺の上の格子点を $(a,b)$ としたとき、ゴールの角度を
$$\tan \theta = b/a$$
とする。

与えられた各エンジンは $x,y$ 方向の進む距離 $dx,dy$ で表現できるけど、
$\theta$ 方向の内積は
$$a \times dx + b \times dy$$
で与えられる。
それで貪欲に選べばいい。

1000 という値は WA を繰り返して最終的に得られた経験的な値。


